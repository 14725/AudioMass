(function(h,f,k){k._deps.keyhandler=function(){var a=this;a.keyMap={};a.callbacks={};a.singleCallbacks={};a.addCallback=function(b,d,e){a.callbacks[b]={keys:e,callback:d}};a.addSingleCallback=function(b,d,e){a.singleCallbacks[b]={key:e,callback:d}};a.removeCallback=function(b){a.callbacks[b]=null};f.addEventListener("keydown",function(b){var d=b.keyCode;a.keyMap[d]=1;for(var e in a.callbacks){var c=a.callbacks[e];if(c){for(var f=c.keys.length,g=!0;0<f--;)if(!a.keyMap[c.keys[f]]){g=!1;break}g&&c.callback&&
c.callback(d,a.keyMap,b)}}});f.addEventListener("keyup",function(b){a.keyMap[b.keyCode]=0});f.addEventListener("keypress",function(b){var d=b.keyCode,e;for(e in a.singleCallbacks){var c=a.singleCallbacks[e];c&&c.key===d&&c.callback&&c.callback(b)}});h.addEventListener("blur",function(b){a.keyMap={}},!1);f.addEventListener("contextmenu",function(a){a.preventDefault()},!1)}})(window,document,PKAudioEditor);